<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Love Letter</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Playfair+Display:ital,wght@0,600;1,600&family=Poppins:wght@300;400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        :root {
            --primary: #d81b60;
            --bg-color: #fff0f5;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Playfair Display', serif;
            background-color: var(--bg-color);
            color: #4a4a4a;
            overflow-x: hidden;
            text-align: center;
        }

        /* 1. Background Animation */
        .hearts-bg {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: -1;
        }
        .heart {
            position: absolute;
            color: rgba(216, 27, 96, 0.3);
            font-size: 20px;
            animation: floatUp 10s linear infinite;
        }
        @keyframes floatUp {
            to { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
        }

        /* 2. Step 1: Hero Section */
        #step1-hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 0.8s;
        }
        .hero-title {
            font-family: 'Dancing Script', cursive;
            font-size: 3.5rem;
            color: var(--primary);
            margin-bottom: 20px;
        }
        .start-btn {
            padding: 15px 40px;
            font-size: 1.2rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(216,27,96,0.4);
            transition: transform 0.3s;
        }
        .start-btn:hover { transform: scale(1.1); }

        /* 3. Step 2: Envelope Section (Hidden initially) */
        #step2-envelope {
            display: none;
            height: 100vh;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            animation: fadeIn 1s;
        }
        
        /* CSS Envelope Design */
        .envelope-wrapper {
            position: relative;
            width: 300px;
            height: 200px;
            background: #ff8fa3;
            cursor: pointer;
            transition: transform 0.3s;
        }
        .envelope-wrapper:hover { transform: scale(1.05); }
        
        .envelope-flap {
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 0;
            border-left: 150px solid transparent;
            border-right: 150px solid transparent;
            border-top: 110px solid #ff5c8d; /* Flap color */
            transform-origin: top;
            transition: transform 0.6s;
            z-index: 5;
        }
        .envelope-body {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 0;
            border-left: 150px solid #ff7eb3;
            border-right: 150px solid #ff7eb3;
            border-bottom: 100px solid #ff477e;
            z-index: 4;
        }
        .seal {
            position: absolute;
            top: 40px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 40px;
            background: #d81b60;
            border-radius: 50%;
            z-index: 6;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .click-hint {
            margin-top: 30px;
            font-family: 'Poppins', sans-serif;
            color: #888;
            animation: bounce 2s infinite;
        }

        /* 4. Step 3: Main Letter Content */
        #step3-content {
            display: none;
            max-width: 800px;
            margin: 0 auto;
            padding: 40px 20px;
            opacity: 0;
            transition: opacity 1s;
        }

        /* Letter Styling */
        .paper {
            background: #fff;
            padding: 40px;
            border: 1px solid #ddd;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            position: relative;
            margin-bottom: 50px;
        }
        .paper::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; height: 5px;
            background: repeating-linear-gradient(45deg, #d81b60, #d81b60 10px, #fff 10px, #fff 20px);
        }
        .typewriter {
            font-size: 1.2rem;
            line-height: 1.8;
            text-align: left;
            min-height: 150px;
        }

        /* Other Sections */
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }
        .gallery img { width: 100%; border-radius: 10px; box-shadow: 0 5px 10px rgba(0,0,0,0.1); }
        
        .music-box {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-top: 40px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

    <div class="hearts-bg" id="hearts"></div>

    <div id="step1-hero">
        <h1 class="hero-title">A Special Surprise For You</h1>
        <button class="start-btn" onclick="goToEnvelope()">Open Your Gift üéÅ</button>
    </div>

    <div id="step2-envelope">
        <div class="envelope-wrapper" onclick="openEnvelope()">
            <div class="envelope-flap" id="flap"></div>
            <div class="seal"><i class="fas fa-heart"></i></div>
            <div class="envelope-body"></div>
        </div>
        <p class="click-hint">Tap the envelope to open</p>
    </div>

    <div id="step3-content">
        <h2 style="font-family: 'Dancing Script'; font-size: 2.5rem; color: var(--primary);">My Dearest Love,</h2>
        
        <div class="paper">
            <p id="letter-text" class="typewriter"></p>
        </div>

        <h3>üì∏ Our Memories</h3>
        <div class="gallery">
            <img src="https://i.pinimg.com/736x/b6/2a/32/b62a32195df4a78cc363574c3d8242f3.jpg">
            <img src="https://i.pinimg.com/564x/23/e8/5a/23e85a538260c6f5d81b21245059d046.jpg">
        </div>

        <div class="music-box">
            <h3>üéµ Our Song</h3>
            <iframe style="border-radius:12px" src="https://open.spotify.com/embed/track/2858LRfA8pYjRj720e5V8C?utm_source=generator" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
        </div>

        <footer style="margin-top: 50px; color: #888;">
            <p>Forever Yours ‚ù§Ô∏è</p>
        </footer>
    </div>

    <script>
        // 1. Background Hearts
        function createHearts() {
            const container = document.getElementById('hearts');
            for(let i=0; i<15; i++) {
                let heart = document.createElement('span');
                heart.className = 'heart';
                heart.innerHTML = '‚ù§';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDuration = (Math.random() * 5 + 5) + 's';
                container.appendChild(heart);
            }
        }
        createHearts();

        // 2. Go to Envelope Step
        function goToEnvelope() {
            document.getElementById('step1-hero').style.display = 'none';
            const envSection = document.getElementById('step2-envelope');
            envSection.style.display = 'flex';
        }

        // 3. Open Envelope & Show Letter
        function openEnvelope() {
            const flap = document.getElementById('flap');
            const envSection = document.getElementById('step2-envelope');
            const contentSection = document.getElementById('step3-content');
            
            // Flap animation
            flap.style.transform = 'rotateX(180deg)';
            flap.style.zIndex = '1';

            // Wait for flap animation, then transition
            setTimeout(() => {
                envSection.style.opacity = '0';
                setTimeout(() => {
                    envSection.style.display = 'none';
                    contentSection.style.display = 'block';
                    
                    setTimeout(() => {
                        contentSection.style.opacity = '1';
                        startTyping(); // Start typing only after letter is visible
                    }, 100);
                }, 500);
            }, 800);
        }

        // 4. Typewriter Effect
        // ‡§Ø‡•á‡§•‡•á ‡§§‡•Å‡§Æ‡§ö‡•á ‡§™‡§§‡•ç‡§∞ (Message) ‡§¨‡§¶‡§≤‡§æ:
        const message = "From the moment I met you, my world changed in the most beautiful way. You are my happiness, my safe place, and my greatest adventure. \n\nI love your smile, your kindness, and the way you make everything better just by being there. Thank you for being mine. \n\nHappy Valentine's Day! ‚ù§Ô∏è";
        
        let i = 0;
        const speed = 40;

        function startTyping() {
            const element = document.getElementById("letter-text");
            if (i < message.length) {
                element.innerHTML += message.charAt(i) === '\n' ? '<br>' : message.charAt(i);
                i++;
                setTimeout(startTyping, speed);
            }
        }
    </script>
</body>
</html>
